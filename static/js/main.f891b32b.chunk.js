(this["webpackJsonpppl-finder"]=this["webpackJsonpppl-finder"]||[]).push([[0],{108:function(e,n,t){"use strict";t.r(n);var i,r,c,o,a,s,l,u,d,f,j=t(0),b=t.n(j),p=t(27),x=t.n(p),h=t(29),v=t(10),O=t(110),g=t(8),m=t(9),y=m.a.div(i||(i=Object(g.a)(["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.size}),(function(e){return e.bold?"700":"400"})),C=t(2),w=function(e){var n=e.size,t=void 0===n?"14px":n,i=e.children,r=e.bold;return Object(C.jsx)(O.a,{component:"span",children:Object(C.jsx)(y,{size:t,bold:r,children:i})})},k=t(21),S=t(137),F=function(e){var n=e.size,t=e.color,i=e.thickness,r=e.variant;return Object(C.jsx)(S.a,{size:n,color:t,thickness:i,variant:r})},z=t(144),L=t(138),E=m.a.div(r||(r=Object(g.a)([""]))),N=function(e){var n=e.isChecked,t=e.onChange,i=e.label,r=e.value;return Object(C.jsx)(E,{children:Object(C.jsx)(L.a,{control:Object(C.jsx)(z.a,{checked:n,onChange:function(){t&&t(r)},color:"primary"}),label:i})})},J=t(139),M=t(69),P=t.n(M),U=m.a.div(c||(c=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),I=m.a.div(o||(o=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n  width: 500px;\n  height: calc(100vh - 270px);\n  margin-block-start: 30px;\n  overflow-y: auto;\n"]))),A=m.a.div(a||(a=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n"]))),H=m.a.div(s||(s=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  max-height: 128px;\n  gap: 2px;\n  overflow: hidden;\n"]))),B=m.a.img(l||(l=Object(g.a)(["\n  border-radius: 45%;\n"]))),R=m.a.div(u||(u=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n"]))),T=m.a.div(d||(d=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  opacity: ",";\n  transition: opacity 0.2s ease-in-out;\n"])),(function(e){return e.isVisible?1:0})),V=m.a.div(f||(f=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  & > * {\n    margin-inline-end: 8px;\n  }\n"]))),q=function(e){var n=e.users,t=e.isLoading,i=e.countries,r=e.toggleCountry,c=e.toggleFavorite,o=e.onInfiniteScroll,a=Object(j.useState)(),s=Object(k.a)(a,2),l=s[0],u=s[1],d=function(){u()},f=Object(j.useRef)();return Object(C.jsxs)(U,{children:[Object(C.jsx)(V,{children:[{cCode:"BR",name:"Brazil"},{cCode:"AU",name:"Australia"},{cCode:"CA",name:"Canada"},{cCode:"DE",name:"Germany"},{cCode:"NL",name:"NetherLand"}].map((function(e,n){return Object(C.jsx)(N,{value:e.cCode,isChecked:i.includes(e.cCode),label:e.name,onChange:function(){return r(e.cCode)}},n)}))}),Object(C.jsxs)(I,{onScroll:function(){if(f.current){var e=f.current,n=e.scrollTop,t=e.scrollHeight;n+e.clientHeight===t&&(console.log("reached bottom"),o&&o())}},ref:f,children:[n.map((function(e,n){return Object(C.jsxs)(A,{onMouseEnter:function(){return function(e){u(e)}(n)},onMouseLeave:d,children:[Object(C.jsx)(B,{src:null===e||void 0===e?void 0:e.picture.large,alt:""}),Object(C.jsxs)(H,{children:[Object(C.jsxs)(w,{size:"22px",bold:!0,children:[null===e||void 0===e?void 0:e.name.title," ",null===e||void 0===e?void 0:e.name.first," ",null===e||void 0===e?void 0:e.name.last]}),Object(C.jsx)(w,{size:"14px",children:null===e||void 0===e?void 0:e.email}),Object(C.jsxs)(w,{size:"14px",children:[null===e||void 0===e?void 0:e.location.street.number," ",null===e||void 0===e?void 0:e.location.street.name]}),Object(C.jsxs)(w,{size:"14px",children:[null===e||void 0===e?void 0:e.location.city," ",null===e||void 0===e?void 0:e.location.country]})]}),Object(C.jsx)(T,{isVisible:e.isFavorite||n===l,onClick:function(){return c(null===e||void 0===e?void 0:e.email)},children:Object(C.jsx)(J.a,{children:Object(C.jsx)(P.a,{color:"error"})})})]},n)})),t&&Object(C.jsx)(R,{children:Object(C.jsx)(F,{color:"primary",size:"45px",thickness:6,variant:"indeterminate"})})]})]})},D=t(25),G=t.n(D),K=t(44),Q=t(70),W=t.n(Q);function X(e,n){localStorage.setItem(e,JSON.stringify({payload:n}))}function Y(e){try{return JSON.parse(localStorage.getItem(e)).payload}catch(n){return null}}function Z(e){return JSON.parse(JSON.stringify(e))}var $,_,ee,ne,te,ie,re,ce,oe=function(){var e=Object(j.useState)([]),n=Object(k.a)(e,2),t=n[0],i=n[1],r=Object(j.useState)([]),c=Object(k.a)(r,2),o=c[0],a=c[1],s=Object(j.useState)(!1),l=Object(k.a)(s,2),u=l[0],d=l[1],f=Object(j.useState)([]),b=Object(k.a)(f,2),p=b[0],x=b[1],h=Object(j.useState)([]),v=Object(k.a)(h,2),O=v[0],g=v[1],m=Object(j.useState)(!1),y=Object(k.a)(m,2),C=y[0],w=y[1],S="favorite-users",F="countries";function z(){return L.apply(this,arguments)}function L(){return(L=Object(K.a)(G.a.mark((function e(){var n,t,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://randomuser.me/api/?nat=".concat(null===o||void 0===o?void 0:o.join(","),"&results=25&page=1"),d(!0),e.next=5,W.a.get(n);case 5:return t=e.sent,d(!1),i=t.data.results,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(0),console.error("\ud83d\ude80 ~ file: usePeopleFetch.js ~ line 60 ~ apiCall ~ error",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function E(){return(E=Object(K.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=3;break}return console.log("no need on favorite page"),e.abrupt("return");case 3:return e.prev=3,e.next=6,z();case 6:n=e.sent,i((function(e){return Z(e).concat(n)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("\ud83d\ude80 ~ file: usePeopleFetch.js ~ line 22 ~ fetchUsers ~ error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function N(){return(N=Object(K.a)(G.a.mark((function e(){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=3;break}return console.log("no need on favorite page"),e.abrupt("return");case 3:return e.prev=3,e.next=6,z();case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("\ud83d\ude80 ~ file: usePeopleFetch.js ~ line 22 ~ fetchUsers ~ error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}Object(j.useEffect)((function(){var e=window.location.hash.replace("#","");console.log("\ud83d\ude80 ~ file: usePeopleFetch.js ~ line 19 ~ useEffect ~ path",e),w("/"!=e)}),[window.location.hash]),Object(j.useEffect)((function(){var e=Y(F);a((null===e||void 0===e?void 0:e.length)?e:[]);var n=Y(S);x((null===n||void 0===n?void 0:n.length)?n:[])}),[]),Object(j.useEffect)((function(){!function(){N.apply(this,arguments)}(),X(F,o)}),[o]),Object(j.useEffect)((function(){X(S,p)}),[p]),Object(j.useEffect)((function(){if(o.length){var e=Z(p).filter((function(e){return o.includes(e.nat)})),n=Z(t);g(e.concat(n))}else g(Z(p).concat(Z(t)))}),[p,t,o]);return{users:t,filteredList:O,favorites:p,isLoading:u,fetchMoreUsers:function(){return E.apply(this,arguments)},countries:o,toggleCountry:function(e){var n=Z(o);n.includes(e)?n=n.filter((function(n){return n!=e})):n.push(e),a(n)},toggleFavorite:function(e){var n=Z(t),r=Z(p),c=n.find((function(n){return n.email===e}))||r.find((function(n){return n.email===e}));c.isFavorite=!c.isFavorite,c.isFavorite?(n=n.filter((function(e){return e.email!=c.email})),r.unshift(c)):(r=r.filter((function(e){return e.email!=c.email})),n.unshift(c)),i(n),x(r)}}},ae=m.a.div($||($=Object(g.a)(["\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n"]))),se=m.a.div(_||(_=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-block-start: 100px;\n"]))),le=m.a.div(ee||(ee=Object(g.a)(["\n  display: flex;\n"]))),ue=(m.a.div(ne||(ne=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n  max-width: 400px;\n  width: 100%;\n"]))),function(){var e=oe(),n=(e.users,e.isLoading),t=e.countries,i=e.filteredList,r=e.fetchMoreUsers,c=e.toggleCountry,o=e.toggleFavorite;return Object(C.jsx)(ae,{children:Object(C.jsxs)(se,{children:[Object(C.jsx)(le,{children:Object(C.jsx)(w,{size:"64px",bold:!0,children:"PplFinder"})}),Object(C.jsx)(q,{users:i,isLoading:n,countries:t,toggleCountry:c,toggleFavorite:o,onInfiniteScroll:r})]})})}),de=m.a.div(te||(te=Object(g.a)(["\n  display: flex;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n"]))),fe=m.a.div(ie||(ie=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-block-start: 100px;\n"]))),je=m.a.div(re||(re=Object(g.a)(["\n  display: flex;\n"]))),be=(m.a.div(ce||(ce=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 25px;\n  max-width: 400px;\n  width: 100%;\n"]))),function(){var e=oe(),n=e.isLoading,t=e.countries,i=e.favorites,r=e.toggleCountry,c=e.toggleFavorite;return Object(C.jsx)(de,{children:Object(C.jsxs)(fe,{children:[Object(C.jsx)(je,{children:Object(C.jsx)(w,{size:"64px",bold:!0,children:"Favorites only"})}),Object(C.jsx)(q,{users:t.length?i.filter((function(e){return t.includes(e.nat)})):i,isLoading:n,countries:t,toggleCountry:r,toggleFavorite:c})]})})}),pe=t(71),xe=t(140),he=t(141),ve=function(e){var n=e.children,t={MuiTab:{root:{backgroundColor:"#303030"}}},i=b.a.useMemo((function(){return Object(pe.a)({overrides:t,palette:{type:"dark",primary:{main:"#84ffff"},error:{main:"#f06292"}}})}),[]);return Object(C.jsxs)(xe.a,{theme:i,children:[Object(C.jsx)(he.a,{}),n]})},Oe=t(145),ge=t(143),me=t(142),ye=function(){var e=Object(j.useState)(0),n=Object(k.a)(e,2),t=n[0],i=n[1],r=Object(v.f)();return Object(j.useEffect)((function(){i(["/","/favorites"].indexOf(r.pathname))}),[r]),Object(C.jsx)(Oe.a,{position:"static",color:"transparent",style:{position:"fixed",top:0},children:Object(C.jsxs)(ge.a,{value:t,onChange:function(e,n){i(n)},"aria-label":"Navigation",indicatorColor:"primary",textColor:"primary",children:[Object(C.jsx)(me.a,{label:"Home",index:0,component:h.b,to:"/"}),Object(C.jsx)(me.a,{label:"Favorites",index:1,component:h.b,to:"/favorites"})]})})},Ce=function(){return Object(C.jsx)(ve,{children:Object(C.jsxs)(h.a,{children:[Object(C.jsx)(ye,{}),Object(C.jsxs)(v.c,{children:[Object(C.jsx)(v.a,{exact:!0,path:"/",component:ue}),Object(C.jsx)(v.a,{path:"/favorites",component:be})]})]})})};x.a.render(Object(C.jsx)(Ce,{}),document.querySelector("#root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.f891b32b.chunk.js.map